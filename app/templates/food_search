
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Search - Grocery Quest</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <header>
        <h1>Search for Food Items</h1>
        <nav>
            <a href="{{ url_for('home') }}">Home</a>
            <a href="{{ url_for('store_search') }}">Explore Stores</a>
            <a href="{{ url_for('favorite_stores') }}">Favorite Stores</a>
            <a href="{{ url_for('logout') }}">Log Out</a>
        </nav>
    </header>

    <main>
        <section id="food-search-section">
            <input type="text" id="food-search" placeholder="Search for food items..." oninput="searchFood()">
        </section>
        <!-- Flyer Button to show/hide filter -->
        <button class="flyer-btn" id="flyer-btn" onclick="toggleFilterForm()">Filter</button>

        <!-- Filter Form (Initially Hidden) -->
        <div id="filter-form" class="filter-form">
            <h3>Filter Results</h3>
            <form action="{{ url_for('food_search') }}" method="GET">
                <label for="price_range">Price Range:</label>
                <input type="range" id="price_range" name="price_range" min="0" max="100" step="1">

                <label for="variety">Variety:</label>
                <input type="range" id="variety" name="variety" min="0" max="10" step="1">

                <label for="customer_service">Customer Service Rating:</label>
                <input type="range" id="customer_service" name="customer_service" min="0" max="5" step="1">

                <label for="distance">Distance (in miles):</label>
                <input type="number" id="distance" name="distance" min="0" step="1" placeholder="Distance">

                <button type="submit" class="apply-filters">Apply Filters</button>
            </form>
        </div>

        <section id="food-list">
            {% for food in food_items %}
                <div class="food-item">
                    <h3>{{ food.name }}</h3>
                    <p><strong>Price:</strong> {{ food.price }}</p>
                    <p><strong>Location:</strong> {{ food.store_name }}</p>
                </div>
            {% endfor %}
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Grocery Quest</p>
    </footer>

    <script>
        function searchFood() {
            let query = document.getElementById('food-search').value.toLowerCase();
            let foodItems = document.querySelectorAll('.food-item');
            foodItems.forEach(item => {
                let foodName = item.querySelector('h3').textContent.toLowerCase();
                if (foodName.includes(query)) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            });
        }
    </script>
</body>
</html>
